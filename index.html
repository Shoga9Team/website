<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <title>Shoga9Team</title>
</head>
<body>
    <script rel="modulepreload" type="module">
        import { ProxifyHook } from './proxifyjs/JavaScript/Classes/Helper/ProxifyHook.js'
        import { InitBasic } from './proxifyjs/JavaScript/Classes/Controller/InitBasic.js'
        // Menu
        import AnchorMenu from './proxifyjs/Docs/AnchorMenu.js'
        import Scroll from './proxifyjs/Docs/Scroll.js'
        import Menu from './JavaScript/Menu.js'
        // HTML El's
        import Content from './JavaScript/Content.js'
        import Loading from './JavaScript/Loading.js'

        class Index {
            constructor() {
                this.makeGlobal('__', new ProxifyHook(InitBasic).get())
                this.head = __(document.getElementsByTagName('head')[0])
                this.body = __(document.getElementsByTagName('body')[0])
                this.contentEl = new Content
                this.loadingEl = new Loading(this.head)
                this.setup(this.body)
            }
            setup(body){
                body
                    .$appendChildren([
                        new Menu(this.contentEl, this.loadingEl),
                        this.contentEl
                    ])
                    // above renders out, so that AnchorMenu can grab body.h2 tags
                    .$_insertBefore(new AnchorMenu(body), this.contentEl)
                new Scroll()
            }
            makeGlobal(name, obj) {
                return window[name] = obj
            }
        }
        new Index()
    </script>
</body>
</html>